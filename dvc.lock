schema: '2.0'
stages:
  unzip_data:
    cmd: python -m ucr_benchmark_template.preprocessing.preprocess unzip-data
    deps:
    - path: data/external/UCRArchive_2018.zip
      hash: md5
      md5: 64239f6b197840b6c5a36ca5dad37c78
      size: 318386832
    - path: ucr_benchmark_template/preprocessing/preprocess.py
      hash: md5
      md5: ccbef965a13fc8346dfe5802a5f93707
      size: 4456
    outs:
    - path: data/raw/
      hash: md5
      md5: 9760f55777cd81761cfffd5b35dde928.dir
      size: 894634377
      nfiles: 416
  preprocess_data:
    cmd: python -m ucr_benchmark_template.preprocessing.preprocess preprocess-data
    deps:
    - path: data/raw/
      hash: md5
      md5: 9760f55777cd81761cfffd5b35dde928.dir
      size: 894634377
      nfiles: 416
    - path: ucr_benchmark_template/preprocessing/preprocess.py
      hash: md5
      md5: ccbef965a13fc8346dfe5802a5f93707
      size: 4456
    - path: ucr_benchmark_template/preprocessing/preprocessors/kan.py
      hash: md5
      md5: 49d903c7615be78e7e08017dd854f24a
      size: 2271
    - path: ucr_benchmark_template/preprocessing/preprocessors/mlp.py
      hash: md5
      md5: 27636621f3bef9d277afe5028bb9b561
      size: 1700
    params:
      params.yaml:
        preprocess.datasets:
        - Coffee
        preprocess.models:
        - mlp
        - kan
    outs:
    - path: data/processed/mlp
      hash: md5
      md5: 781546547a7f29b82f682f5af26ca57b.dir
      size: 170640
      nfiles: 2
    - path: data/processed/raw_splits
      hash: md5
      md5: 13b68c58a049b2ef75521c7b56cec70f.dir
      size: 187136
      nfiles: 8
  train_all:
    cmd: python -m ucr_benchmark_template.modeling.train
    deps:
    - path: data/processed/
      hash: md5
      md5: 3b3d1290a5a3a92f2265cc427dc49929.dir
      size: 586222902
      nfiles: 600
    - path: params.yaml
      hash: md5
      md5: ccb5404be58a2e63dfd1d23b6e5cf1e7
      size: 398
    - path: ucr_benchmark_template/modeling/train.py
      hash: md5
      md5: b13e11d6d25072b86e099a54fe547a27
      size: 4514
    params:
      params.yaml:
        train.batch: 16
        train.depths:
        - 2
        train.epochs:
        - 500
        train.hidden_layers:
        - 100
        train.learning_rates:
        - 0.001
        train.seeds:
        - 42
    outs:
    - path: data/results/
      hash: md5
      md5: c3f836a09ddbb5c22dce7eee8c741372.dir
      size: 651
      nfiles: 1
    - path: models/
      hash: md5
      md5: 25fac791138391da64eb1d5518b7b7de.dir
      size: 313413
      nfiles: 1
  train_kan:
    cmd: python -m ucr_benchmark_template.modeling.train_kan
    deps:
    - path: data/processed/
      hash: md5
      md5: e5c4fd1e79e89a9df4399513748090ed.dir
      size: 553759
      nfiles: 16
    - path: params.yaml
      hash: md5
      md5: cb72a4181e575d97c162428dba4712bc
      size: 518
    - path: ucr_benchmark_template/modeling/train_kan.py
      hash: md5
      md5: 1120186a9610635d90f92d037dc20ff2
      size: 7960
    params:
      params.yaml:
        train.batch: 16
        train.depths:
        - 2
        train.epochs:
        - 500
        train.grid:
        - 5
        train.hidden_layers:
        - 10
        train.learning_rates:
        - 0.001
        train.seeds:
        - 42
        train.spline_order: 3
    outs:
    - path: data/results/kan/
      hash: md5
      md5: eb879dd7f277b4067ef5bb8e2b03555b.dir
      size: 173
      nfiles: 1
    - path: models/kan/
      hash: md5
      md5: bf2836d84f376b4a16cffd6ccbc3266b.dir
      size: 138706
      nfiles: 1
  train_mlp:
    cmd: python -m ucr_benchmark_template.modeling.train
    deps:
    - path: data/processed/
      hash: md5
      md5: e5c4fd1e79e89a9df4399513748090ed.dir
      size: 553759
      nfiles: 16
    - path: params.yaml
      hash: md5
      md5: cb72a4181e575d97c162428dba4712bc
      size: 518
    - path: ucr_benchmark_template/modeling/train.py
      hash: md5
      md5: 285f363dc90a104f0c2eb63b80d0106f
      size: 4596
    params:
      params.yaml:
        train.batch: 16
        train.depths:
        - 2
        train.epochs:
        - 500
        train.hidden_layers:
        - 10
        train.learning_rates:
        - 0.001
        train.seeds:
        - 42
    outs:
    - path: data/results/mlp/
      hash: md5
      md5: 22c294c281b483c9e6e8031f6aa30891.dir
      size: 211
      nfiles: 1
    - path: models/mlp/
      hash: md5
      md5: 503382048024a7f2e9ce28c2dea806fc.dir
      size: 48322
      nfiles: 1
  train_inceptiontime:
    cmd: python -m ucr_benchmark_template.modeling.train_inceptiontime
    deps:
    - path: data/processed/
      hash: md5
      md5: e5c4fd1e79e89a9df4399513748090ed.dir
      size: 553759
      nfiles: 16
    - path: params.yaml
      hash: md5
      md5: cb72a4181e575d97c162428dba4712bc
      size: 518
    - path: ucr_benchmark_template/modeling/train_inceptiontime.py
      hash: md5
      md5: 7f2b72254834bb90207789825f876fde
      size: 5497
    params:
      params.yaml:
        train.batch: 16
        train.epochs:
        - 500
        train.learning_rates:
        - 0.001
    outs:
    - path: data/results/inceptiontime/
      hash: md5
      md5: 2e09bc72d2102a49db0ab97122d45d93.dir
      size: 188
      nfiles: 1
    - path: models/inceptiontime/
      hash: md5
      md5: 0a0e62840d1498fc24ef57e6d3d917fb.dir
      size: 1624442
      nfiles: 1
