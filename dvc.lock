schema: '2.0'
stages:
  unzip_data:
    cmd: python -m ucr_benchmark_template.preprocessing.preprocess unzip-data
    deps:
    - path: data/external/UCRArchive_2018.zip
      hash: md5
      md5: 4ec98c4bcce6a90dc188e4938560b1c7
      size: 316175400
    - path: ucr_benchmark_template/preprocessing/preprocess.py
      hash: md5
      md5: ccbef965a13fc8346dfe5802a5f93707
      size: 4456
    outs:
    - path: data/raw
      hash: md5
      md5: 9760f55777cd81761cfffd5b35dde928.dir
      size: 894634377
      nfiles: 416
  preprocess_data:
    cmd: python -m ucr_benchmark_template.preprocessing.preprocess preprocess-data
    deps:
    - path: data/raw/
      hash: md5
      md5: 9760f55777cd81761cfffd5b35dde928.dir
      size: 894634377
      nfiles: 416
    - path: ucr_benchmark_template/preprocessing/preprocess.py
      hash: md5
      md5: ccbef965a13fc8346dfe5802a5f93707
      size: 4456
    - path: ucr_benchmark_template/preprocessing/preprocessors/kan.py
      hash: md5
      md5: 49d903c7615be78e7e08017dd854f24a
      size: 2271
    - path: ucr_benchmark_template/preprocessing/preprocessors/mlp.py
      hash: md5
      md5: 27636621f3bef9d277afe5028bb9b561
      size: 1700
    params:
      params.yaml:
        preprocess.datasets: []
        preprocess.models:
        - kan
        - mlp
    outs:
    - path: data/processed/kan
      hash: md5
      md5: f211fafba653fbad2c2d11bc4f9de5de.dir
      size: 288371958
      nfiles: 336
    - path: data/processed/mlp
      hash: md5
      md5: facfca257eb87f83285a23a6b4d51c1a.dir
      size: 278920214
      nfiles: 120
    - path: data/processed/raw_splits
      hash: md5
      md5: caa907125e512ffa969b787710304dab.dir
      size: 307302688
      nfiles: 480
  train_all:
    cmd: python -m ucr_benchmark_template.modeling.train
    deps:
    - path: data/processed/
      hash: md5
      md5: 3b3d1290a5a3a92f2265cc427dc49929.dir
      size: 586222902
      nfiles: 600
    - path: params.yaml
      hash: md5
      md5: ccb5404be58a2e63dfd1d23b6e5cf1e7
      size: 398
    - path: ucr_benchmark_template/modeling/train.py
      hash: md5
      md5: b13e11d6d25072b86e099a54fe547a27
      size: 4514
    params:
      params.yaml:
        train.batch: 16
        train.depths:
        - 2
        train.epochs:
        - 500
        train.hidden_layers:
        - 100
        train.learning_rates:
        - 0.001
        train.seeds:
        - 42
    outs:
    - path: data/results/
      hash: md5
      md5: c3f836a09ddbb5c22dce7eee8c741372.dir
      size: 651
      nfiles: 1
    - path: models/
      hash: md5
      md5: 25fac791138391da64eb1d5518b7b7de.dir
      size: 313413
      nfiles: 1
  train_kan:
    cmd: python -m ucr_benchmark_template.modeling.train_kan
    deps:
    - path: data/processed/
      hash: md5
      md5: 03e0eee84b3dcd0f2aceabc10722ebd0.dir
      size: 3493552
      nfiles: 8
    - path: params.yaml
      hash: md5
      md5: 9207292de9a513a835b5200222770b27
      size: 715
    - path: ucr_benchmark_template/modeling/train_kan.py
      hash: md5
      md5: b7dccdadabc98dde23761bca6f0809b4
      size: 7682
    outs:
    - path: models/kan/
      hash: md5
      md5: 3f44b2c01a95c7a29623364818885c38.dir
      size: 145074
      nfiles: 1
  train_mlp:
    cmd: python -m ucr_benchmark_template.modeling.train
    deps:
    - path: data/processed/
      hash: md5
      md5: 80462c68351b84e0ee42e8fdd92491b8.dir
      size: 358538
      nfiles: 8
    - path: params.yaml
      hash: md5
      md5: d66d3c89ba9589f5f73d7d849cef0ee6
      size: 619
    - path: ucr_benchmark_template/modeling/train.py
      hash: md5
      md5: fdbcb7f5da8d5e9ad7c6fef094adb41a
      size: 4426
    outs:
    - path: models/mlp/
      hash: md5
      md5: 5ccf7d95d2d1211e7c2474fdc1e3eabf.dir
      size: 131111
      nfiles: 1
  train_inceptiontime:
    cmd: python -m ucr_benchmark_template.modeling.train_inceptiontime
    deps:
    - path: data/processed/
      hash: md5
      md5: 80462c68351b84e0ee42e8fdd92491b8.dir
      size: 358538
      nfiles: 8
    - path: params.yaml
      hash: md5
      md5: d66d3c89ba9589f5f73d7d849cef0ee6
      size: 619
    - path: ucr_benchmark_template/modeling/train_inceptiontime.py
      hash: md5
      md5: 44938ca8e87db40a7d7ba54e063aff7c
      size: 6788
    outs:
    - path: models/inceptiontime/
      hash: md5
      md5: fd2db4e0c26231e6efcd4c7382a6f791.dir
      size: 1624778
      nfiles: 1
  process_results:
    cmd: python -m ucr_benchmark_template.analyze_results
    deps:
    - path: ucr_benchmark_template/analyze_results.py
      hash: md5
      md5: 81b661c2fb07df015da59378c7ee593e
      size: 7063
    outs:
    - path: data/results/README_generated_files.txt
      hash: md5
      md5: 00fbc3f1e3671ff8a3e711c0d84d2818
      size: 942
    - path: data/results/all_results_summary.csv
      hash: md5
      md5: cf5075e32ec5e6996b28c529c5581c29
      size: 3221
    - path: data/results/best_config_per_model.csv
      hash: md5
      md5: 69dd44974b38b01ba4d2a58c898c5950
      size: 1117
    - path: data/results/best_model_per_dataset.csv
      hash: md5
      md5: deb7b98dd795b0fac3026d8fe5ea759c
      size: 1201
    - path: data/results/best_models_summary.txt
      hash: md5
      md5: f4c03e3aa114643836fe9fa7c569fd21
      size: 1083
    - path: data/results/results_avg_over_seeds.csv
      hash: md5
      md5: 78e9f9ef1bf61ca06dc219371684fb9b
      size: 5777
  train_drtp:
    cmd: python -m ucr_benchmark_template.modeling.train_drtp
    deps:
    - path: data/processed/
      hash: md5
      md5: 253b61bb248f917888b0d83a812154ea.dir
      size: 4045892
      nfiles: 24
    - path: params.yaml
      hash: md5
      md5: 1376d26b166b644c2e42fce97054fb5b
      size: 737
    - path: ucr_benchmark_template/modeling/train_drtp.py
      hash: md5
      md5: 214d315cf358e3870b780a79755428d2
      size: 9416
    outs:
    - path: models/drtp/
      hash: md5
      md5: 89e3ca6e0b97e517711027cfd1cd6cd4.dir
      size: 65276
      nfiles: 3
  train_noprop:
    cmd: python -m ucr_benchmark_template.modeling.train_noprop
    deps:
    - path: data/processed/
      hash: md5
      md5: 24d3bd6273081de4085e4d721b3d7f21.dir
      size: 336638
      nfiles: 8
    - path: params.yaml
      hash: md5
      md5: 3791a1d26565921a3223c91818773491
      size: 1040
    - path: ucr_benchmark_template/modeling/train_noprop.py
      hash: md5
      md5: 160a4cddacdf6a037cca86321d747c43
      size: 20214
    outs:
    - path: models/noprop/
      hash: md5
      md5: 6979dafe7cf5d08592edfc8496948d08.dir
      size: 92397687
      nfiles: 1
