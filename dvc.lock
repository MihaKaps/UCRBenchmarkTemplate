schema: '2.0'
stages:
  unzip_data:
    cmd: python -m ucr_benchmark_template.preprocessing.preprocess unzip-data
    deps:
    - path: data/external/UCRArchive_2018.zip
      hash: md5
      md5: 64239f6b197840b6c5a36ca5dad37c78
      size: 318386832
    - path: ucr_benchmark_template/preprocessing/preprocess.py
      hash: md5
      md5: ccbef965a13fc8346dfe5802a5f93707
      size: 4456
    outs:
    - path: data/raw/
      hash: md5
      md5: 9760f55777cd81761cfffd5b35dde928.dir
      size: 894634377
      nfiles: 416
  preprocess_data:
    cmd: python -m ucr_benchmark_template.preprocessing.preprocess preprocess-data
    deps:
    - path: data/raw/
      hash: md5
      md5: 9760f55777cd81761cfffd5b35dde928.dir
      size: 894634377
      nfiles: 416
    - path: ucr_benchmark_template/preprocessing/preprocess.py
      hash: md5
      md5: ccbef965a13fc8346dfe5802a5f93707
      size: 4456
    - path: ucr_benchmark_template/preprocessing/preprocessors/kan.py
      hash: md5
      md5: 49d903c7615be78e7e08017dd854f24a
      size: 2271
    - path: ucr_benchmark_template/preprocessing/preprocessors/mlp.py
      hash: md5
      md5: 27636621f3bef9d277afe5028bb9b561
      size: 1700
    params:
      params.yaml:
        preprocess.datasets: []
        preprocess.models:
        - mlp
        - kan
    outs:
    - path: data/processed/mlp
      hash: md5
      md5: facfca257eb87f83285a23a6b4d51c1a.dir
      size: 278920214
      nfiles: 120
    - path: data/processed/raw_splits
      hash: md5
      md5: caa907125e512ffa969b787710304dab.dir
      size: 307302688
      nfiles: 480
  train_all:
    cmd: python -m ucr_benchmark_template.modeling.train
    deps:
    - path: data/processed/
      hash: md5
      md5: 3b3d1290a5a3a92f2265cc427dc49929.dir
      size: 586222902
      nfiles: 600
    - path: params.yaml
      hash: md5
      md5: ccb5404be58a2e63dfd1d23b6e5cf1e7
      size: 398
    - path: ucr_benchmark_template/modeling/train.py
      hash: md5
      md5: b13e11d6d25072b86e099a54fe547a27
      size: 4514
    params:
      params.yaml:
        train.batch: 16
        train.depths:
        - 2
        train.epochs:
        - 500
        train.hidden_layers:
        - 100
        train.learning_rates:
        - 0.001
        train.seeds:
        - 42
    outs:
    - path: data/results/
      hash: md5
      md5: c3f836a09ddbb5c22dce7eee8c741372.dir
      size: 651
      nfiles: 1
    - path: models/
      hash: md5
      md5: 25fac791138391da64eb1d5518b7b7de.dir
      size: 313413
      nfiles: 1
  train_kan:
    cmd: python -m ucr_benchmark_template.modeling.train_kan
    deps:
    - path: data/processed/
      hash: md5
      md5: 6a5bf745a7a13a4cc8cecdc2ee832c2b.dir
      size: 195209
      nfiles: 8
    - path: params.yaml
      hash: md5
      md5: 2a18107403fc354484e866c3620b7f63
      size: 916
    - path: ucr_benchmark_template/modeling/train_kan.py
      hash: md5
      md5: 97e60697fa018c6beeb6cb6e75c737d1
      size: 7845
    outs:
    - path: models/kan/
      hash: md5
      md5: 071739210ae7cd5355c3f40ecdd96f04.dir
      size: 139101
      nfiles: 1
  train_mlp:
    cmd: python -m ucr_benchmark_template.modeling.train
    deps:
    - path: data/processed/
      hash: md5
      md5: e97738d6b8553dc12a2cf2a5bc6cada5.dir
      size: 874594860
      nfiles: 936
    - path: params.yaml
      hash: md5
      md5: 974c66f8d78402afd621ea4c354558f4
      size: 876
    - path: ucr_benchmark_template/modeling/train.py
      hash: md5
      md5: fdbcb7f5da8d5e9ad7c6fef094adb41a
      size: 4426
    outs:
    - path: models/mlp/
      hash: md5
      md5: ba965cbb5d0eb56a49683b27a3d3cd58.dir
      size: 93554216
      nfiles: 120
  train_inceptiontime:
    cmd: python -m ucr_benchmark_template.modeling.train_inceptiontime
    deps:
    - path: data/processed/
      hash: md5
      md5: 04925c04553f1107486bdd0eb2f1ee52.dir
      size: 193802
      nfiles: 8
    - path: params.yaml
      hash: md5
      md5: ad1468208a77633bc8be8a29d627011a
      size: 874
    - path: ucr_benchmark_template/modeling/train_inceptiontime.py
      hash: md5
      md5: 58d303f0a9f2c6e8bb6215346af6be7c
      size: 6595
    outs:
    - path: models/inceptiontime/
      hash: md5
      md5: e1391a932114d55e3b776b27bec198a3.dir
      size: 1624442
      nfiles: 1
  process_results:
    cmd: python -m ucr_benchmark_template.analyze_results
    deps:
    - path: data/results/all_results.csv
      hash: md5
      md5: 1cf78269ff23302e53a85914547ae8c8
      size: 27120
    - path: ucr_benchmark_template/analyze_results.py
      hash: md5
      md5: 2ad21e620b421e7c0ad697b8fe70c843
      size: 7209
    outs:
    - path: data/results/README_generated_files.txt
      hash: md5
      md5: 00fbc3f1e3671ff8a3e711c0d84d2818
      size: 942
    - path: data/results/all_results_summary.csv
      hash: md5
      md5: 5a503e03fd4a7b89d65696b28734f487
      size: 586
    - path: data/results/best_config_per_model.csv
      hash: md5
      md5: 573fe5c0244f3d64ec1d52a9a5eaa68a
      size: 456
    - path: data/results/best_model_per_dataset.csv
      hash: md5
      md5: b8a8b42e38362d3b2c7970a1aa86f7d6
      size: 13777
    - path: data/results/best_models_summary.txt
      hash: md5
      md5: ef32b7c0f722f059b1780a4b98e16472
      size: 670
    - path: data/results/results_avg_over_seeds.csv
      hash: md5
      md5: cffbfd9727181763975790f7705232d7
      size: 24690
